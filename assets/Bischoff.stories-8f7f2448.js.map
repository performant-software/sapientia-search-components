{"version":3,"file":"Bischoff.stories-8f7f2448.js","sources":["../../node_modules/react-bootstrap-icons/dist/icons/book.js","../../node_modules/react-bootstrap-icons/dist/icons/map-fill.js","../../src/components/Bischoff.tsx"],"sourcesContent":["var _excluded = [\"color\", \"size\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Book = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var color = _ref.color,\n      size = _ref.size,\n      title = _ref.title,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    width: size,\n    height: size,\n    fill: color\n  }, rest), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z\"\n  }));\n});\nBook.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  title: PropTypes.string\n};\nBook.defaultProps = {\n  color: 'currentColor',\n  size: '1em',\n  title: null\n};\nexport default Book;","var _excluded = [\"color\", \"size\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar MapFill = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var color = _ref.color,\n      size = _ref.size,\n      title = _ref.title,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    width: size,\n    height: size,\n    fill: color\n  }, rest), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M16 .5a.5.5 0 0 0-.598-.49L10.5.99 5.598.01a.5.5 0 0 0-.196 0l-5 1A.5.5 0 0 0 0 1.5v14a.5.5 0 0 0 .598.49l4.902-.98 4.902.98a.502.502 0 0 0 .196 0l5-1A.5.5 0 0 0 16 14.5V.5zM5 14.09V1.11l.5-.1.5.1v12.98l-.402-.08a.498.498 0 0 0-.196 0L5 14.09zm5 .8V1.91l.402.08a.5.5 0 0 0 .196 0L11 1.91v12.98l-.5.1-.5-.1z\"\n  }));\n});\nMapFill.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  title: PropTypes.string\n};\nMapFill.defaultProps = {\n  color: 'currentColor',\n  size: '1em',\n  title: null\n};\nexport default MapFill;","import { instantMeiliSearch } from \"@meilisearch/instant-meilisearch\";\nimport GlobalStyle from \"./global.styled\";\nimport 'instantsearch.css/themes/reset.css'\nimport 'instantsearch.css/themes/satellite.css'\nimport { useMemo } from \"react\";\nimport Search from './Search';\nimport localizations from \"../lib/localizations\";\nimport { Highlight, RefinementList } from \"react-instantsearch-hooks-web\";\nimport { Book, Building, Calendar, MapFill } from \"react-bootstrap-icons\";\nimport { displayAttribute } from \"../lib/react_helpers\";\nimport Panel from \"./Search/Panel\";\n\nconst searchClient = instantMeiliSearch(\n  import.meta.env.VITE_APP_MEILI_URL,\n  // This is a search-only key that is meant to be used in production\n  import.meta.env.VITE_APP_MEILI_KEY,\n  {\n      primaryKey: 'id'\n  }\n)\n\nexport interface BischoffProps {\n  locale: 'fr' | 'en',\n  onHitClick?: (arg: any) => void,\n  hitWrapperComponent?: React.FC,\n  getHitWrapperProps?: (...args: any) => any\n}\n\nconst Bischoff: React.FC<BischoffProps> = ({ locale, onHitClick, hitWrapperComponent, getHitWrapperProps }) => {\n  const hitConfig = useMemo(() => ({\n    leftColumnItems: [\n      {\n        attribute: 'archive.name',\n        icon: <Building />,\n        caption: localizations.archive[locale],\n        renderDisplay: (item: any) => displayAttribute(item, 'archive', locale)\n      },\n      {\n        attribute: 'OrigDate',\n        icon: <Calendar />,\n        caption: localizations.origDate[locale]\n      },\n      {\n        attribute: 'archive_place',\n        icon: <MapFill />,\n        caption: localizations.archivePlace[locale]\n      },\n      {\n        attribute: 'works',\n        icon: <Book />,\n        caption: localizations.works[locale],\n        renderDisplay: (item) => item.works.map((w: { title: string }) => w.title).join(', ')\n      }\n    ],\n    rightPanel: {\n      attribute: 'text',\n      label: localizations.text[locale]\n    },\n    headlineAttribute: 'catalog_number',\n    renderHeadlineAttribute: (hit: any) => {\n      if (hit.catalog_number) {\n        return (\n          <span>\n            #\n            <Highlight\n              attribute='catalog_number'\n              hit={hit}\n              highlightedTagName='mark'\n            />\n          </span>\n        )\n      } else {\n        return <></>\n      }\n  }}), [locale])\n\n  return (\n    <GlobalStyle>\n      <Search\n        searchClient={searchClient}\n        locale={locale}\n        indexName=\"bischoff\"\n        hitConfig={hitConfig}\n        onHitClick={onHitClick}\n        hitWrapperComponent={hitWrapperComponent}\n        getHitWrapperProps={getHitWrapperProps}\n      >\n        <Panel header={localizations.works[locale]}>\n          <RefinementList\n            attribute=\"works.title\"\n          />\n        </Panel>\n        <Panel header={localizations.origDate[locale]}>\n          <RefinementList\n            attribute=\"OrigDate\"\n          />\n        </Panel>\n        <Panel header={localizations.origPlace[locale]}>\n          <RefinementList\n            attribute=\"origPlace\"\n          />\n        </Panel>\n        <Panel header={localizations.sections[locale]}>\n          <RefinementList\n            attribute=\"sections.shelfmark_sections_id.name\"\n          />\n        </Panel>\n        <Panel header={localizations.provenance[locale]}>\n          <RefinementList\n            attribute=\"provenance\"\n          />\n        </Panel>\n        <Panel header={localizations.archive[locale]}>\n          <RefinementList\n              attribute=\"archive\"\n            />\n        </Panel>\n        <Panel header={localizations.archivePlace[locale]}>\n          <RefinementList\n            attribute=\"archive_place\"\n          />\n        </Panel>\n        <Panel header={localizations.shelfmarks[locale]}>\n          <RefinementList\n            attribute=\"shelfmark\"\n          />\n        </Panel>\n        <Panel header={localizations.formerShelfmarks[locale]}>\n          <RefinementList\n            attribute=\"former_shelfmark\"\n          />\n        </Panel>\n      </Search>\n    </GlobalStyle>\n  )\n}\n\nexport default Bischoff;\n"],"names":["_excluded","_extends","target","i","source","key","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","sourceKeys","Book","forwardRef","_ref","ref","color","size","title","rest","React","PropTypes","Book$1","MapFill","MapFill$1","searchClient","instantMeiliSearch","Bischoff","locale","onHitClick","hitWrapperComponent","getHitWrapperProps","hitConfig","useMemo","jsx","Building","localizations","item","displayAttribute","Calendar","w","hit","jsxs","Highlight","Fragment","GlobalStyle","Search","Panel","RefinementList","Bischoff$1"],"mappings":"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","x_google_ignoreList":[0,1]}